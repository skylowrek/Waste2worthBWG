<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Waste2Worth Marketplace</title>
<style>
body {
    margin: 0;
    padding: 0;
    min-height: 100vh;
    font-family:'Segoe UI',Arial,sans-serif;
    color:#184152;
    background: url('website_background.png') no-repeat center center fixed;
    background-size: cover;
    background-color: #f7faf9;
    position: relative;
}
/* Semi-transparent white overlay for readability */
body::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(255,255,255,0.60); /* You can adjust 0.60 for more/less overlay */
    pointer-events: none;
    z-index: 0;
}

/* Make sure main content is above overlay */
.marketplace-main,
.header-main, .market-insights, .stats-widgets, .section-title, .recommend, .rec-head, .rec-list, .live-listings, .footer, .modal {
    position: relative;
    z-index: 1;
}

.marketplace-main{max-width:1300px;margin:0 auto;padding:30px 16px 70px;}
.header-main{font-size:2.2rem;font-weight:800;color:#21808d;margin-bottom:7px;}
.market-insights{margin:23px 0 18px;padding:18px 22px;border-radius:12px;background:#e6eefd;box-shadow:0 2px 15px #237b8e14;display:flex;gap:38px; flex-wrap:wrap;}
.market-insights .m-summary{flex:2;font-size:1.08rem;}
.market-insights .m-prices{display:flex;gap:26px;}
.market-insights .m-prbox{background:#fff;border-radius:8px;padding:9px 19px;text-align:center;box-shadow:0 1px 4px #21808d12;}
.m-prbox span{display:block;}
.m-prbox .label{color:#21808d;font-size:.98rem;}
.live-listings{display: grid; gap:32px; grid-template-columns: repeat(auto-fit, minmax(350px,1fr)); margin-bottom:48px;}
.card{background:#fff;border-radius:17px;box-shadow:0 4px 25px #21808d13;padding:0 0 18px 0;display:flex;flex-direction:column;transition:.15s;position:relative;}
.card:hover{box-shadow:0 8px 32px #1a89aa16;transform:translateY(-3px);}
.card-header{padding:24px 26px 0 26px;}
.card-title{font-size:1.3rem;font-weight:700;color:#16747b;}
.card-sub{color:#19b978;margin-bottom:7px;}
.card-meta{font-size:1.03rem;color:#689195;display:flex;flex-wrap:wrap;gap:14px;margin-bottom:8px;}
.badges{margin-bottom:7px;}
.badge{display:inline-block;background:#d8fbe7;color:#128070;border-radius:12px;padding:5px 13px;font-size:.96rem;margin-right:7px;}
.badge.eco{background:#d8fbe7;color:#217e36;}
.badge.trending{background:#ffe4b6;color:#cd9532;}
.badge.urgent{background:#fbe7e7;color:#c2292e;}
.badge.verified{background:#d4ecff;color:#2257b4;}
.card-body{padding:0 26px;}
.eco-impact{margin:8px 0 5px 0;}
.card-actions{margin-top:17px;display:flex;justify-content:flex-end;gap:11px;padding:0 26px;}
.btn{border:none;padding:8px 17px;border-radius:8px;font-weight:700;font-size:.98rem;cursor:pointer;transition:.1s;}
.btn.primary{background:#21808d;color:white;}
.btn.secondary{background:#ebf7fc;color:#21808d;border:1.5px solid #21808d;}
.btn.ghost{background:transparent;color:#21808d;}
.negotiation-helper{margin-top:10px;display:flex;gap:7px;}
.neg-input{flex:1;padding:8px 12px;border-radius:7px;border:1px solid #c9dbde;font-size:1rem;max-width:220px;}
/* AI Suggest popover */
.suggestion-pop {
    position:absolute; left:15px; top:97px; z-index:40; min-width:250px; max-width:330px;
    background:#f6ffe2; box-shadow:0 4px 16px #bfdc7c44; color:#597526;border-radius:10px;
    font-size:.97rem;padding:9px 13px 10px 15px;display:none; animation:fadein .2s;
}
.suggestion-pop .close-sugg{
    float:right; color:#809523; font-weight:700; font-size:1.1rem; border:none; background:none; cursor:pointer;
}
@keyframes fadein {from{opacity:0} to{opacity:1} }
.section-title{font-size:1.23rem;font-weight:700;color:#21808d;margin:24px 0 10px;}
.recommend{margin-bottom:30px;}
.rec-head{font-weight:600;color:#19b978;font-size:1rem;}
.rec-list{display:flex;gap:15px;flex-wrap:wrap;}
.rec-item{background:#fff;box-shadow:0 1px 5px #21808d10;border-radius:9px;padding:10px 18px;color:#21808d;font-weight:600;}
.trending-chip{background:#ffe2cc;color:#bb7f13;padding:5px 14px;border-radius:11px;margin-right:12px;font-weight:600;}
.stats-widgets{display:flex; gap:32px; margin:33px 0 24px 0;}
.widget{background:#fff;box-shadow:0 1px 6px #21808d10;padding:18px 32px;border-radius:13px;}
.widget-title{color:#21808d;font-weight:700;}
.widget-value{font-size:1.21rem;font-weight:700;color:#16747b;}
/* Modal styles */
.modal {display:none;position:fixed;z-index:1000;left:0;top:0;width:100vw;height:100vh;overflow:auto;background:rgba(44,77,91,0.13);}
.modal-content{background:#fff;margin:60px auto;padding:34px 25px 25px 25px;border-radius:15px;max-width:390px;box-shadow:0 6px 38px #1a89aa25;position:relative;}
.close-modal{position:absolute;top:12px;right:21px;color:#21808d;font-size:1.45rem;cursor:pointer;font-weight:700;}
.modal input, .modal textarea{width:100%;margin-bottom:13px;padding:10px;border-radius:7px;border:1px solid #c9dbde;font-size:1rem;}
.modal label{font-size:.97rem;}
.modal button[type="submit"]{margin-top:7px; width:100%;}
@media (max-width:900px){
  .live-listings{grid-template-columns:1fr;}
  .market-insights,.stats-widgets{flex-direction:column;gap:14px;}
}
@media (max-width:550px){
  .marketplace-main{padding:11px 2px 27px;}
  .header-main{font-size:1.33rem;}
  .card-header{padding:14px 8px 0 10px;}
  .card-body,.card-actions{padding:0 10px;}
  .modal-content{max-width:98vw;}
  .suggestion-pop{min-width:90vw;max-width:96vw;left:3vw;}
}
</style>
</head>
<body>
<div class="marketplace-main">
  <div class="header-main">Marketplace</div>
  <!-- Market Insights-->
  <div class="market-insights">
    <div class="m-summary">Plastic Pellets and Cardboard are trending. Verified eco-friendly sellers get 8% higher offers. CO₂ savings on aluminium sales up 5% this week.</div>
    <div class="m-prices">
      <div class="m-prbox"><span class="label">Plastic Pellets</span><span>₹81/kg</span></div>
      <div class="m-prbox"><span class="label">Aluminium Scrap</span><span>₹117/kg</span></div>
      <div class="m-prbox"><span class="label">Cardboard</span><span>₹15.5/kg</span></div>
    </div>
  </div>
  <!-- Stats widgets (market analytics) -->
  <div class="stats-widgets">
    <div class="widget">
      <div class="widget-title">Active Buyers</div>
      <div class="widget-value">27</div>
    </div>
    <div class="widget">
      <div class="widget-title">Materials Listed</div>
      <div class="widget-value">15</div>
    </div>
    <div class="widget">
      <div class="widget-title">Eco Offers</div>
      <div class="widget-value">8</div>
    </div>
    <div class="widget">
      <div class="widget-title">Avg. Close Time</div>
      <div class="widget-value">2.1 days</div>
    </div>
    <div class="widget">
      <div class="widget-title">Marketplace Volume</div>
      <div class="widget-value">35022 kg</div>
    </div>
  </div>
  <!-- Trending Section -->
  <div class="section-title">Trending Materials</div>
  <div>
    <span class="trending-chip">Plastic Pellets</span>
    <span class="trending-chip">Aluminium Scrap</span>
    <span class="trending-chip">E-waste</span>
    <span class="trending-chip">Cardboard</span>
  </div>
  <!-- Recommendations -->
  <div class="recommend">
    <div class="rec-head">Recommended for you:</div>
    <div class="rec-list">
      <div class="rec-item">Sell E-waste</div>
      <div class="rec-item">Buy Mixed Plastics</div>
      <div class="rec-item">Sell Cardboard</div>
    </div>
  </div>
  <!-- Marketplace Listings -->
  <div class="section-title">Live Listings</div>
  <section class="live-listings">
    <!-- Cards and listings go here (see your original HTML for this section) -->
    <!-- ... unchanged content ... -->
    <!-- Card 1 -->
    <div class="card" data-card-id="0" style="position:relative;">
      <div class="card-header">
        <div class="card-title">Plastic Pellets <span class="card-sub">Seller</span></div>
        <div class="card-meta">
          <span>Location: Delhi</span>
          <span>Volume: 500 kg</span>
          <span>Price: ₹82/kg</span>
        </div>
        <div class="badges">
          <span class="badge eco">Eco</span>
          <span class="badge trending">Trending</span>
          <span class="badge verified">Verified</span>
        </div>
      </div>
      <div class="card-body">
        <div class="eco-impact">CO₂ Saving: <b>110</b> kg</div>
        <div class="negotiation-helper">
          <input class="neg-input" type="text" placeholder="Propose a price or delivery..."/>
          <button class="btn secondary" type="button" onclick="showSuggestion(0,this)">AI Suggest</button>
        </div>
      </div>
      <div class="card-actions">
        <button class="btn primary" onclick="openModal('contact',0)">Contact</button>
        <button class="btn secondary" onclick="openModal('negotiate',0)">Negotiate</button>
        <button class="btn ghost" onclick="openModal('report',0)">Report</button>
      </div>
      <div class="suggestion-pop" id="sugg-pop-0"><span class="close-sugg" onclick="closeSuggestion(0)">&times;</span>
        <b>AI Suggestion: </b>How about splitting the deal at ₹80/kg for half the volume?
      </div>
    </div>
    <!-- Card 2 -->
    <div class="card" data-card-id="1" style="position:relative;">
      <div class="card-header">
        <div class="card-title">Aluminium Scrap <span class="card-sub">Seller</span></div>
        <div class="card-meta">
          <span>Location: Mumbai</span>
          <span>Volume: 900 kg</span>
          <span>Price: ₹120/kg</span>
        </div>
        <div class="badges">
          <span class="badge eco">Eco</span>
          <span class="badge urgent">Urgent</span>
        </div>
      </div>
      <div class="card-body">
        <div class="eco-impact">CO₂ Saving: <b>320</b> kg</div>
        <div class="negotiation-helper">
          <input class="neg-input" type="text" placeholder="Propose a price..."/>
          <button class="btn secondary" type="button" onclick="showSuggestion(1,this)">AI Suggest</button>
        </div>
      </div>
      <div class="card-actions">
        <button class="btn primary" onclick="openModal('contact',1)">Contact</button>
        <button class="btn secondary" onclick="openModal('negotiate',1)">Negotiate</button>
        <button class="btn ghost" onclick="openModal('report',1)">Report</button>
      </div>
      <div class="suggestion-pop" id="sugg-pop-1"><span class="close-sugg" onclick="closeSuggestion(1)">&times;</span>
        <b>AI Suggestion: </b>Try bidding ₹117/kg and offer immediate pickup.
      </div>
    </div>
    <!-- Card 3 -->
    <div class="card" data-card-id="2" style="position:relative;">
      <div class="card-header">
        <div class="card-title">Cardboard <span class="card-sub">Buyer</span></div>
        <div class="card-meta">
          <span>Location: Bangalore</span>
          <span>Volume: 1200 kg</span>
          <span>Bid: ₹17/kg</span>
        </div>
        <div class="badges">
          <span class="badge trending">Trending</span>
        </div>
      </div>
      <div class="card-body">
        <div class="eco-impact">CO₂ Saving: <b>--</b> kg</div>
        <div class="negotiation-helper">
          <input class="neg-input" type="text" placeholder="Counter price or volume..."/>
          <button class="btn secondary" type="button" onclick="showSuggestion(2,this)">AI Suggest</button>
        </div>
      </div>
      <div class="card-actions">
        <button class="btn primary" onclick="openModal('contact',2)">Contact</button>
        <button class="btn secondary" onclick="openModal('negotiate',2)">Negotiate</button>
        <button class="btn ghost" onclick="openModal('report',2)">Report</button>
      </div>
      <div class="suggestion-pop" id="sugg-pop-2"><span class="close-sugg" onclick="closeSuggestion(2)">&times;</span>
        <b>AI Suggestion: </b>Buyer may accept a bundled delivery at ₹16.5/kg.
      </div>
    </div>
  </section>
  <!-- MODALS (negotiation/contact/report, one instance, dynamic content) -->
  <div class="modal" id="main-modal">
    <div class="modal-content" id="modal-content">
      <span class="close-modal" onclick="closeModal()">&times;</span>
      <div id="modal-body"></div>
    </div>
  </div>
</div>
<script>
const modal = document.getElementById('main-modal');
const modalBody = document.getElementById('modal-body');
const cardData = [
  {
    title: "Plastic Pellets Seller",
    location: "Delhi",
    volume: "500 kg",
    price: "₹82/kg",
    co2: "110 kg",
    type: "seller"
  },
  {
    title: "Aluminium Scrap Seller",
    location: "Mumbai",
    volume: "900 kg",
    price: "₹120/kg",
    co2: "320 kg",
    type: "seller"
  },
  {
    title: "Cardboard Buyer",
    location: "Bangalore",
    volume: "1200 kg",
    price: "₹17/kg bid",
    co2: "--",
    type: "buyer"
  }
];
const suggestText = [
  "How about splitting the deal at ₹80/kg for half the volume?",
  "Try bidding ₹117/kg and offer immediate pickup.",
  "Buyer may accept a bundled delivery at ₹16.5/kg."
];

function openModal(type, cardId) {
  let c = cardData[cardId];
  closeAllSuggestions();
  if(type==='contact') {
    modalBody.innerHTML = `<h3 style="font-size:1.16rem;margin-bottom:.6em;">Contact ${c.title}</h3>
      <form autocomplete="off">
        <label>Your Name</label>
        <input required placeholder="Full Name" /><br/>
        <label>Email or Phone</label>
        <input required placeholder="Email or Mobile"/><br/>
        <label>Message</label>
        <textarea rows="3" required>Interested in your ${c.title.split(' ')[0]} at ${c.price}. Please share more details.</textarea><br/>
        <button type="submit" class="btn primary" onclick="event.preventDefault();closeModal();alert('Message sent!')">Send</button>
      </form>`;
  }
  if(type==='negotiate') {
    modalBody.innerHTML = `<h3 style="font-size:1.16rem;margin-bottom:.65em;">Negotiate with ${c.title}</h3>
      <form autocomplete="off">
        <label>Your Offer (Price or Terms)</label>
        <input required placeholder="e.g. ₹${parseInt(c.price)||''}/kg for half the lot"/><br/>
        <button type="submit" class="btn secondary" onclick="event.preventDefault();closeModal();alert('Offer submitted!')">Propose Offer</button>
      </form>`;
  }
  if(type==='report') {
    modalBody.innerHTML = `<h3 style="font-size:1.13rem;margin-bottom:.55em;">Report ${c.title}</h3>
      <form autocomplete="off">
        <label>Reason</label><input placeholder="Reason for report" required/><br/>
        <label>Details</label><textarea rows="3"></textarea><br/>
        <button type="submit" class="btn ghost" onclick="event.preventDefault();closeModal();alert('Thank you for your report!')">Submit Report</button>
      </form>`;
  }
  modal.style.display = "block";
}
function closeModal() {
  modal.style.display = "none";
  modalBody.innerHTML = "";
}
window.onclick = function(event) {
  if (event.target === modal) closeModal();
};
// AI Suggest popover logic
function showSuggestion(idx,btn) {
  closeAllSuggestions();
  document.getElementById("sugg-pop-"+idx).style.display = "block";
}
function closeSuggestion(idx){
  document.getElementById("sugg-pop-"+idx).style.display="none";
}
function closeAllSuggestions() {
  document.querySelectorAll('.suggestion-pop').forEach(el=>el.style.display="none");
}
</script>
</body>
</html>
